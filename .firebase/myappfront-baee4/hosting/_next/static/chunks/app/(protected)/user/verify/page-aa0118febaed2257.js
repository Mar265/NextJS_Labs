(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{9639:(e,a,r)=>{Promise.resolve().then(r.bind(r,4504))},4504:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>l});var t=r(5155),s=r(5624),i=r(4565),n=r(2115),o=r(6046);function l(){let{user:e}=(0,s.A)(),[a,r]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(""),y=(0,i.xI)(),w=(0,o.useRouter)();(0,n.useEffect)(()=>{var a;e?(null===(a=y.currentUser)||void 0===a?void 0:a.emailVerified)&&(console.log("E-mail już zweryfikowany. Przekierowanie na stronę gł\xf3wną."),c(!0),w.push("/")):(console.log("Brak zalogowanego użytkownika. Przekierowanie na logowanie..."),w.push("/user/login"))},[e,y.currentUser,w]);let m=async()=>{try{if(!y.currentUser){d("Brak zalogowanego użytkownika.");return}await (0,i.gA)(y.currentUser),r(!0),d("")}catch(e){console.error("Błąd podczas wysyłania e-maila weryfikacyjnego:",e),d("Nie udało się wysłać e-maila weryfikacyjnego.")}},p=async()=>{try{if(!y.currentUser){d("Brak zalogowanego użytkownika.");return}await y.currentUser.reload(),y.currentUser.emailVerified?(c(!0),w.push("/")):d("E-mail nie jest jeszcze zweryfikowany.")}catch(e){console.error("Błąd podczas sprawdzania weryfikacji e-maila:",e),d("Nie udało się sprawdzić statusu weryfikacji.")}};return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-var(--primary-dark) to-var(--primary)",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-var(--text-main) mb-6",children:"Weryfikacja e-maila"}),u&&(0,t.jsx)("p",{className:"text-red-500 mb-4",children:u}),l?(0,t.jsx)("p",{className:"text-lg text-green-600",children:"Tw\xf3j e-mail został zweryfikowany! Możesz się teraz zalogować."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-lg text-var(--text-dark) mb-4",children:["Proszę potwierdź sw\xf3j adres e-mail, klikając w link wysłany na adres: ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"font-bold",children:(null==e?void 0:e.email)||"Tw\xf3j e-mail"})]}),a?(0,t.jsx)("p",{className:"text-green-500 mt-4",children:"E-mail weryfikacyjny został ponownie wysłany!"}):(0,t.jsx)("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Wyślij ponownie e-mail weryfikacyjny"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"Jeśli już zweryfikowałeś sw\xf3j e-mail, kliknij poniższy przycisk, aby sprawdzić status:"}),(0,t.jsx)("button",{onClick:p,className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:"Sprawdź status"})]})]})})}},5624:(e,a,r)=>{"use strict";r.d(a,{A:()=>u,AuthProvider:()=>c});var t=r(5155),s=r(2115),i=r(6046),n=r(4565),o=r(1746);let l=(0,s.createContext)(),c=e=>{let{children:a}=e,[r,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),y=(0,i.useRouter)();(0,s.useEffect)(()=>{let e=(0,n.hg)(o.j,e=>{e?c({uid:e.uid,email:e.email,displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified}):c(null),d(!1)});return()=>e()},[]);let w=async()=>{try{await (0,n.CI)(o.j),c(null),console.log("Pomyślnie wylogowano."),y.push("/")}catch(e){console.error("Błąd podczas wylogowywania:",e)}},m=async()=>{try{o.j.currentUser&&!o.j.currentUser.emailVerified?(await (0,n.gA)(o.j.currentUser),console.log("E-mail weryfikacyjny został wysłany ponownie.")):console.log("E-mail już zweryfikowany.")}catch(e){console.error("Błąd podczas wysyłania e-maila weryfikacyjnego:",e)}};return(0,t.jsx)(l.Provider,{value:{user:r,loading:u,logout:w,resendVerificationEmail:m},children:a})},u=()=>(0,s.useContext)(l)},1746:(e,a,r)=>{"use strict";r.d(a,{db:()=>l,j:()=>o});var t=r(9904),s=r(4565),i=r(7058);let n=(0,t.Wp)({apiKey:"AIzaSyBdyYyVmrb1sNxMlIFnjG8U5wJsNYfc6QY",authDomain:"myappfront-baee4.firebaseapp.com",projectId:"myappfront-baee4",storageBucket:"myappfront-baee4.appspot.com",messagingSenderId:"393811731877",appId:"1:393811731877:web:9fe423b0b66309e9b7f44c",measurementId:"G-XWYY0W89KS"});window.firebaseLogLevel="silent";let o=(0,s.xI)(n),l=(0,i.aU)(n)},6046:(e,a,r)=>{"use strict";var t=r(6658);r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})}},e=>{var a=a=>e(e.s=a);e.O(0,[992,782,861,441,517,358],()=>a(9639)),_N_E=e.O()}]);